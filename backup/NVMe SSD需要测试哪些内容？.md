# NVMe SSD测试方向的概述

        为了对NVMe SSD进行全面评估，仅仅依赖于基础的性能指标是不够的。到2025年，NVMe SSD技术已经非常成熟，在计算机系统中作为存储组件的重要部分，其性能不再是系统的瓶颈。因此，为了在竞争激烈的市场中脱颖而出，各厂商需要深入挖掘NVMe SSD的独特技术特点和功能。评估NVMe SSD时，需要综合考虑多个方面，以下是一些关键的测试方向：

## 1. 基础性能测试

- IOPS（每秒输入/输出操作数）：这一指标主要评估4K数据块的随机读写性能。IOPS是衡量存储设备处理小数据块请求能力的重要指标，通常用于评估设备的随机访问性能。
- BW（带宽）：这个指标通常指128K或更大数据块的顺序读写性能。带宽测试用于评估存储设备在处理大数据块时的吞吐能力，是顺序读写性能的重要衡量标准。
- Latency（延迟）：延迟测试评估4K和128K数据块在单队列下的随机和顺序访问延迟。延迟是指从发出读写请求到数据传输完成所需的时间，是存储设备响应速度的关键指标。

上述测试通常使用fio工具进行，它是一种灵活的I/O测试工具，支持多种I/O引擎，其中libaio（异步I/O库）常用于模拟实际使用场景，以获得更准确的性能数据。

        通过这些基础性能测试，可以初步了解NVMe SSD的性能表现，但要全面评估其在实际应用中的表现，还需要考虑其他因素，如耐久性、可靠性、能耗和热管理等。
        
## 2.高级测试

        除了基础的行呢给你测试之外，我们还应该考虑更多的问题，因为NVMe SSD厂商为了追求基础性能指标，往往会在这些基础测试方面做更多的优化，这样带来的负面影响就是可能其它的IO数据块或队列下的表现不佳，然而在实际的应用场景，往往会遇到这种情况，这时候性能瓶颈可能就会出现，此刻再去分析和处理问题，就会显得有点晚了，为了规避类似的问题出现，我们需要把工作前置，更全面去评估NVMe的性能和能力，从而进行功能和性能的全面排序。

1non-stable.sh  ​done

2stable.sh  ​done

3multi_ns_create.sh  ​done

3multi_ns_press_test.sh  ​done

4Atomic_AWUN.sh  ​done

5filesystem_test.sh​done

6、错误注入测试 ---无法实现

7、原子写测试

8、写放大测试：分别测试不通块大小模型下的写放大曲线（1K~16K）​done

9、reboot测试

10、多盘同时压测：矩阵压测，呈现IOPS和BW的矩阵+Latency的矩阵，并且包含了中断聚合的开和关的测试结果呈现 ​done

*邦numa测试数据：RW、RR、SW、SR和对应的latency max值*

     *跨numa测试数据：RW、RR、SW、SR和对应的latency max值*

11、IO_replay测试

12、sysbench压测--修改输出格式，修复mount问题

13、RocksDB测试

14、pcie_all的脚本改写--​done

15、增加单numjobs的测试：fio --name=read_test_ssd_data3 --filename=/dev/nvmeXn1 --direct=1 --rw=read --bs=4k --size=2G --numjobs=1 --time_based --runtime=60 --group_reporting

16、需要遍历numjobs、QD、bs的不通情况的压力测试结果，最终矩阵呈现，并且绘制热力图。​done

17、限定内存空间的测试---需要找方法。

18、FDP测试脚本

19、增加跨numa和不跨numa的测试和对比​done

20、整机功耗压测脚本（包含GPU压测） --powerTest_GPU_V0.6.sh​done

